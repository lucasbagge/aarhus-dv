---
title: "Docker AWS Instructions"
author: "Business Science"
date: "8/5/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
    echo = TRUE,
    eval = FALSE
)
```

# Deploy RStudio IDE in the Cloud with H2O, Tidyverse, & More!

```{r, echo=F, eval=T}
knitr::include_graphics("img/amazon-web-services.jpg")
```


# Follow the AWS Overview 

Follow the [AWS Overview](https://business-science.github.io/shiny-production-with-aws-book/aws-overview.html) to get an EC2 Server up and running. 

- Chapters 2-7 will show you how to get your AWS EC2 Server Up and Running. 

- Make sure to open Port 8787 using a Custom TCP during ["Step 6 - Configure Security Group"](https://business-science.github.io/shiny-production-with-aws-book/aws-ec2-server-setup.html#step-6---configure-security-group)

- Connect to [Ubuntu EC2 Server via Terminal (Mac) or Putty (Windows)](https://business-science.github.io/shiny-production-with-aws-book/connecting-to-ec2-with-ssh-secure-shell.html) 

# Update Ubuntu & Install Docker

```{bash}
# Upgrade Ubuntu
sudo apt update
sudo apt-get upgrade -y
sudo apt-get dist-upgrade -y
```



# GitHub

## Installation

No installation needed. Git comes with Ubuntu.

## Clone Code Repository

```{bash}
# Clone the Lab 40 Github Repo
git clone https://github.com/mdancho84/lab_40_docker.git
```

Run this command to clone the Github Repo:

- This clones the repo from the [Lab 40 Github Repository](https://github.com/mdancho84/lab_40_docker)
- You should now have a folder: lab_40_docker


# Docker

## Docker Installation

```{bash}
# Install Docker
sudo apt-get install docker.io
```

## Fire Up RStudio Docker Container

```{bash}
sudo docker run -d -p 8787:8787 -e PASSWORD=XYZ -e USER=mdancho \
-v /home/ubuntu/lab_40_docker:/home/rstudio/lab_40_docker \
mdancho/h2o-verse:3.30.0.1
```

- Pulls the container from DockerHub
- Fires up the container in __detached mode__
- Links the `lab_40_docker` folder on your Ubuntu Machine to a folder inside your Docker Container

